# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

## [1.1.5] - 2026-01-12
### Added
- 新增多关键词搜索功能，支持通过空格分隔的多个关键词进行 AND 逻辑匹配，并支持对应的高亮显示

### Fixed
- 修复时间线加载不完整的问题
- 优化加载日志逻辑，提升用户体验
- 修复折叠重复日志模式下加载进度问题

### Changed
- 搜索框支持输入后自动触发搜索（带轻微防抖），可在设置中调整防抖时间
- 折叠重复日志的徽标会显示当前搜索命中的条数，便于快速判断重要性
- 新增设置面板，支持配置搜索防抖时间、折叠最小重复次数、时间线采样点数
- 统一后台增量加载逻辑，时间线始终基于整文件采样并在跳转后保持正确的当前位置高亮

## [1.1.4] - 2025-12-16
### Added
- 新增若干命令，包括以下命令
  - 刷新日志文件
  - 导出当前日志
  - 显示日志统计
  - 书签管理
  - 注释管理
  - 跳转到行号
  - 高级搜索
- 搜索结果导航优化
  - 搜索结果添加跳转按钮（🔗图标），点击可跳转到完整日志中的对应位置
  - 右键菜单新增"跳转到完整日志"选项，方便在搜索模式下快速定位
  - 取消搜索结果点击自动跳转功能，便于对比和复制内容
- 时间线导航增强
  - 时间线图上高亮显示当前浏览位置对应的时间块
  - 翻页或跳转时自动更新高亮块位置
  - 点击时间线跳转后，高亮块准确定位到目标位置
  - 基于实际时间戳计算高亮位置，确保与日志内容精确对应

### Fixed
- 修复搜索功能数据加载问题
  - 修复搜索时出现错误
  - 添加防御性检查，确保搜索结果数据始终为数组类型
  - 修复搜索结果为空时的提示信息
- 修复搜索结果显示问题
  - 修复搜索结果下方仍显示其他日志的问题
  - 防止在搜索/过滤模式下自动加载更多数据
  - 搜索结果现在只显示匹配的日志行

## [1.1.3] - 2025-12-09

### Added
- JSON自动解析支持多对象检测和渲染
  - 单行日志包含多个JSON对象时，自动分别解析展示
  - 保留日志前缀的原有格式和高亮样式
  - 每个JSON对象独立控制折叠/展开
- JSON折叠/展开交互优化
  - 修复折叠按钮显示逻辑，避免重复的结束括号
  - 支持展开后重新折叠，状态切换更加流畅
  - 优化嵌套JSON的渲染，只在根层级提供折叠控件

### Fixed
- 修复JSON解析时嵌套内容被意外折叠的问题
- 修复多JSON渲染时日志前缀格式丢失的问题
- 修复折叠/展开切换时DOM结构不一致的问题

## [1.1.2] - 2025-12-04

### Added
- JSON/XML自动解析功能
  - 自动检测并美化渲染日志中的JSON对象
  - 自动检测并美化渲染日志中的XML内容
  - 支持大型JSON的智能折叠（超过20行自动折叠）
  - 可通过开关控制是否启用自动解析
- 自定义高亮规则系统
  - 支持添加、编辑、删除自定义高亮规则
  - 支持文本精确匹配和正则表达式两种模式
  - 自定义背景色和文字颜色
  - 高亮内容可一键筛选日志
- 日志筛选功能增强
  - 支持从高亮内容快速筛选
  - 显示筛选状态提示
  - 支持取消筛选并恢复原始位置

### Changed
- 改进JSON提取算法，使用括号匹配代替正则表达式
- 优化折叠重复日志的性能
- 优化虚拟滚动渲染效率

### Fixed
- 修复JSON解析不完整的问题
- 修复嵌套JSON折叠逻辑错误

## [1.1.0] - 2025-12-03

### Added
- 虚拟滚动支持超大文件（GB级）秒开
- 智能分页加载机制
- 日志级别过滤（Error、Warn、Info、Debug）
- 时间范围过滤
- 折叠重复日志功能
- 书签标注功能
- 注释添加功能

### Added
- 多条件组合搜索
  - 支持正则表达式搜索
  - 支持反向搜索（排除匹配）
  - 支持多个搜索条件同时生效
- 搜索结果高亮显示
- 搜索结果计数

### Added
- 按时间删除日志
- 按行数删除日志
- 批量删除操作

### Added
- 日志统计信息
- 时间线导航
- 日志导出功能

### Changed
- 内置高亮规则优化
  - 时间戳高亮
  - 日志级别颜色区分
  - 线程名高亮
  - 类名高亮
  - 方法名高亮
- 暗色主题适配

## [1.0.0] - 2025-11-25

### Added
- 初始版本发布
- 基础日志查看功能
- 文件加载和显示
- 简单搜索功能
- 基本的界面布局